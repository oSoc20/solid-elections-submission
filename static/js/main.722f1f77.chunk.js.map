{"version":3,"sources":["i18n.js","actions/userInfo.js","actions/expensesInfo.js","components/header.jsx","components/footer.jsx","components/Layout.jsx","components/alert/showAlert.jsx","components/alert/notConnected.jsx","components/alert/loading.jsx","utils/Solid.js","utils/userInfo.js","utils/RequestDatabase.ts","utils/LblodInfo.js","utils/useUserInfo.js","components/form/candidateDataForm.jsx","components/form/PriceInput.jsx","components/alert/help.jsx","utils/createA105Form.js","utils/expensesInfo.js","utils/useExpensesInfo.js","components/form/A105Head.jsx","components/alert/profileDoesntExist.jsx","components/form/A105.jsx","components/form/FormLayout.jsx","components/alert/formSent.jsx","App.js","actions/webID.js","reducers/webID.js","reducers/userInfo.js","reducers/expensesInfo.js","reducers/index.js","store.js","index.jsx"],"names":["i18n","use","Backend","initReactI18next","init","backend","loadPath","fallbackLng","debug","interpolation","escapeValue","setUserInfo","info","type","key","payload","setExpensesInfo","Header","t","useTranslation","className","tabIndex","id","href","role","xmlns","viewBox","aria-labelledby","aria-hidden","data-name","d","to","LoggedIn","Link","Value","src","AuthButton","popup","login","logout","Footer","useState","language","setLanguage","changeLanguage","getButtonClass","buttonLanguage","replace","onClick","Layout","children","ShowAlert","props","title","NotConnected","LoginButton","Loading","aria-busy","fileClient","FileClient","auth","getPublicFolderURI","webID","a","fetchDocument","profileDoc","profile","getSubject","readFolder","getRef","space","storage","storageFolder","publicFolders","folders","filter","folder","name","length","url","createFolder","result","console","log","getAppFolderURI","publicFolder","appFolders","getFolderFiles","uri","files","validateUserInfo","userInfo","validateLblodID","lblodID","validateMunicipality","municipality","validatePostalCode","postalCode","saveUserInfo","appFolderURI","userDocument","createDocument","subject","addSubject","identifier","addRef","schema","sameAs","lblodId","addString","addressLocality","addInteger","save","getUserInfo","folderFiles","userInfoDoc","asRef","getString","getInteger","URL","fetchGetDb","endpoint","fetch","method","headers","mode","cache","response","status","json","data","success","message","statusText","fetchPostAbb","fetchPostDb","body","fetchUserInfo","personURI","uriUSerInfo","URLSearchParams","query","dataUser","results","bindings","lists","map","list","value","listName","listNumber","positionInResult","fetchUserAmount","uriAmount","dataAmount","listAmount","userAmount","forEach","binding","spentList","spentCandidate2","fetchExtraAmount","uriExtra","dataExtra","mandated","fetchLBLODInfo","userSuccess","amountSuccess","extraSuccess","firstName","lastName","familyName","registerCandidate","JSON","stringify","useUserInfo","useSelector","state","loaded","dispatch","useDispatch","useEffect","loadData","solidData","lblodData","extraData","saveData","validID","CandidateDataForm","refresh","useForm","register","handleSubmit","setValue","errors","handleFormSubmit","alert","onSubmit","htmlFor","placeholder","ref","required","pattern","readOnly","data-tip","disabled","data-type","min","valueAsNumber","PriceInput","inputs","label","help","extraErrors","style","defaultValue","Help","this","Array","isArray","substring","trigger","getShorterMessage","modal","closeOnDocumentClick","React","Component","formToHTML","translate","helpToHTML","sections","sectionData","sectionInputs","sectionToHTML","isExpense","subsections","subData","subInputs","subsectionToHTML","getKey","paragraphs","paragraph","paragraphToHTML","sentences","listElements","reduce","acc","curr","sentence","connector","listElement","class","element","content","concat","replaceAll","actionToJSON","action","price","getDecimal","priceCurrency","description","getExpensesInfo","expensesInfoDoc","buyActions","getAllSubjectsOfType","BuyAction","expenses","donateActions","DonateAction","donations","addAction","doc","agentURI","recipient","addDecimal","rdf","saveA105Data","expensesDocument","actions","actionData","useExpensesInfo","expensesInfo","userInfoObject","userLoaded","rawKey","slice","push","getInfo","formInfo","funds","saveSuccess","filtered","section","sectionResponse","subsection","expensesLoaded","A105Head","number","position","ProfileDoesntExist","A105","enableG104","watch","completeForm","setCompleteForm","values","toggleRadio","toggleValue","expensesTotal","fundsTotal","amount","substr","toFixed","getTotals","amount1","extraInfo","amount2","getExtraErrors","expensesForm","fundsForm","checked","deadlines","forms","deadline","then","FormLayout","g104","data-toggle","aria-controls","aria-selected","FormSent","App","useWebId","fallback","path","LoggedOut","webIDReducer","defaultState","userInfoReducer","expensesInfoReducer","combinedReducer","combineReducers","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.722f1f77.chunk.js","sourcesContent":["import i18n from 'i18next';\r\nimport Backend from 'i18next-xhr-backend';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\ni18n\r\n    .use(Backend)\r\n    .use(initReactI18next)\r\n    .init({\r\n        backend: {\r\n            loadPath: '/solid-elections-submission/locales/{{lng}}/{{ns}}.json'\r\n        },\r\n        fallbackLng: 'nl',\r\n        debug: true,\r\n        interpolation: {\r\n            escapeValue: false\r\n        }\r\n    });\r\n\r\nexport default i18n;","export const setUserInfo = (info) => {\r\n    return {\r\n        type: 'SET_INFO',\r\n        key: 'user',\r\n        payload: info\r\n    }\r\n}\r\n\r\nexport const requestUserLoad = () => {\r\n    return {\r\n        type: 'CHANGE_LOADED',\r\n        key: 'user'\r\n    }\r\n}","export const setExpensesInfo = (info) => {\r\n    return {\r\n        type: 'SET_INFO',\r\n        key: 'expenses',\r\n        payload: info\r\n    }\r\n}\r\n\r\nexport const requestExpensesLoad = () => {\r\n    return {\r\n        type: \"CHANGE_LOADED\",\r\n        key: 'expenses'\r\n    }\r\n}","import React from 'react';\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { LoggedIn, AuthButton, Value, Link } from '@solid/react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nexport default function Header() {\r\n\r\n    const { t } = useTranslation([\"header\"]);\r\n\r\n    return (\r\n        <header className=\"au-c-main-header\">\r\n            <div className=\"au-c-main-header__title-group\">\r\n                <div tabIndex=\"-1\" className=\"au-u-hidden-visually ember-sr-only ember-sr-only-focusable\" id=\"ember-a11y-refocus-nav-message\">\r\n                    {t('New page loaded')}. {t('You can now continue to navigate')}.\r\n                </div>\r\n                <a href=\"https://www.vlaanderen.be/nl\" className=\"au-c-brand au-c-brand--link \">\r\n                    <div className=\"au-c-brand__logo ex-header-icon\">\r\n                        <svg role=\"img\" id=\"leeuw\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 19.61 31.05\" aria-labelledby=\"logoVlaanderen\" aria-hidden=\"true\">\r\n                            <title id=\"logoVlaanderen\">Logo Vlaanderen</title>\r\n                            <path id=\"Logo_Vlaanderen\" data-name=\"Logo Vlaanderen\" d=\"M19.61,16c-1.08-.82-1.59,0-2.27,0s-1.12-1-1.56-.75c-0.85.43,0.34,2,.86,2.27a12.51,12.51,0,0,0,1.18.59,1.72,1.72,0,0,1,1,1.55,3,3,0,0,1,0,.75c-0.31,1.32-2.64,2.52-4,1.61a3,3,0,0,1-1.4-2c-0.36-1.73-1.62-3-2-4.7-0.25-1-.43-2.12-0.7-3.15S10.17,10,9.94,9A27.44,27.44,0,0,0,9,5.92C7.71,2.61,7.14,2.85,7.14,2.85s0.46,0.92,2.15,9A47.8,47.8,0,0,0,10.42,17c0.16,0.42.44,1.32,0.62,1.72,0.54,1.16,2,2.92,2.05,4.51,0.05,0.92.16,1.68,0.18,2.37a7.37,7.37,0,0,0,.24,1.4c0.35,1,3.14,4.09,6.1,4.09V28.68a10.88,10.88,0,0,1-5.79-1.82,6.37,6.37,0,0,1,.35-1.7,2.78,2.78,0,0,1,2.39-1.94,17.91,17.91,0,0,1,3,.31V16ZM6.82,7.36c-0.11,1.77-2.87,4.2-3.73,5.75A11.43,11.43,0,0,0,2,15.95a7.53,7.53,0,0,0,.62,4.67c0.91,2.18-.12,3,0.59,2.54,0.88-.72.75-2.39,0.68-3.43a14.77,14.77,0,0,1,0-2.82A13.29,13.29,0,0,1,6.3,11.58a4.84,4.84,0,0,0,.52-4.22m0.56,5s0.29,1.4-1,5c-3.26,9.45,3,10.34,4.74,12.56,0,0,.69-1-2.14-4-1-1.12-2-3.6-1.15-7.15,1.17-5.13-.5-6.39-0.5-6.39M1.21,6.2A4.53,4.53,0,0,1,1,4.7C1.2,2.48,3.23,1.58,3.73,1.25A2.7,2.7,0,0,0,4.76,0,3,3,0,0,1,3.55,3.67,6.06,6.06,0,0,0,1.21,6.2M6.32,4.05c0.11,0.23,1,1.45-2.48,4.27s-2.36,4.84-2.36,4.84-3.66-2,.56-5.53S5.39,3.43,5.39,3.43a1.05,1.05,0,0,1,.93.63m4.46,1.08c0.59,0.08,1,1.92,2.35,2.32,1,0.29,2.08.13,2.32,0.74a0.52,0.52,0,0,0,.37.92C16.21,8,16.4,3.88,10.79,5.14ZM12.64,6c0-.13.12,0,0.27-0.12a1.66,1.66,0,0,1,.59-0.48,1,1,0,0,1,.62,0c0.12,0,0,.33,0,0.4s-0.74-.09-0.74.32c0,0.67.91,0,1.38,0,0.23,1.64-2.48,1.19-2.08-.16h0Z\"></path>\r\n                        </svg>\r\n                    </div>\r\n                    <p className=\"au-c-brand__logotype\">\r\n                        <span className=\"au-c-brand__main\">Vlaanderen</span>\r\n                    </p>\r\n                </a>\r\n\r\n                <RouterLink className=\"ember-view au-c-main-header__title au-c-main-header__title--link\" to=\"/\">{t('home')}</RouterLink>\r\n                <RouterLink className=\"ember-view au-c-main-header__title au-c-main-header__title--link\" to=\"/profile\">{t('profile')}</RouterLink>\r\n                <RouterLink className=\"ember-view au-c-main-header__title au-c-main-header__title--link\" to=\"/new-declaration\">{t('declare')}</RouterLink>\r\n\r\n                <a href=\"#content\" className=\"au-c-main-header__skiplink\">{t('Back to the main item')}</a>\r\n            </div>\r\n\r\n            <nav className=\"au-c-main-header__actions\">\r\n                <ul className=\"au-c-list-horizontal\">\r\n                    <LoggedIn>\r\n                        <li className=\"au-c-list-horizontal__item\">\r\n                            <Link className=\"nav-link\" href=\"user\"> {t('Welcome')}, <Value src=\"user.name\"/></Link>     \r\n                        </li>\r\n                    </LoggedIn>\r\n                    <li className=\"au-c-list-horizontal__item\">\r\n                        <AuthButton popup=\"https://osoc20.github.io/solid-elections-submission/popup.html\" login={t('Log in')} logout={t('Log out')}/>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </header>\r\n    );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nexport default function Footer() {\r\n\r\n    const { t, i18n } = useTranslation([\"footer\"]);\r\n\r\n    const [language, setLanguage] = useState('nl')\r\n\r\n    const changeLanguage = (language) => {\r\n        setLanguage(language);\r\n        i18n.changeLanguage(language);\r\n    }\r\n\r\n    const getButtonClass = (buttonLanguage) => {\r\n        if (buttonLanguage == language) {\r\n            return \"language-button-selected\"\r\n        } else {\r\n            return \"language-button\"\r\n        }\r\n    }\r\n\r\n    return (\r\n    <footer className=\"au-c-main-footer space-between\">\r\n        <div className=\"au-c-main-footer__brand\">\r\n            <div className=\"au-c-brand au-c-brand--tagline\">\r\n                <div className=\"au-c-brand__logo\">\r\n                    <svg role=\"img\" id=\"leeuw\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 19.61 31.05\" aria-labelledby=\"logoVlaanderen\" aria-hidden=\"true\">\r\n                        <title id=\"logoVlaanderen\">Logo Vlaanderen</title>\r\n                        <path id=\"Logo_Vlaanderen\" data-name=\"Logo Vlaanderen\" d=\"M19.61,16c-1.08-.82-1.59,0-2.27,0s-1.12-1-1.56-.75c-0.85.43,0.34,2,.86,2.27a12.51,12.51,0,0,0,1.18.59,1.72,1.72,0,0,1,1,1.55,3,3,0,0,1,0,.75c-0.31,1.32-2.64,2.52-4,1.61a3,3,0,0,1-1.4-2c-0.36-1.73-1.62-3-2-4.7-0.25-1-.43-2.12-0.7-3.15S10.17,10,9.94,9A27.44,27.44,0,0,0,9,5.92C7.71,2.61,7.14,2.85,7.14,2.85s0.46,0.92,2.15,9A47.8,47.8,0,0,0,10.42,17c0.16,0.42.44,1.32,0.62,1.72,0.54,1.16,2,2.92,2.05,4.51,0.05,0.92.16,1.68,0.18,2.37a7.37,7.37,0,0,0,.24,1.4c0.35,1,3.14,4.09,6.1,4.09V28.68a10.88,10.88,0,0,1-5.79-1.82,6.37,6.37,0,0,1,.35-1.7,2.78,2.78,0,0,1,2.39-1.94,17.91,17.91,0,0,1,3,.31V16ZM6.82,7.36c-0.11,1.77-2.87,4.2-3.73,5.75A11.43,11.43,0,0,0,2,15.95a7.53,7.53,0,0,0,.62,4.67c0.91,2.18-.12,3,0.59,2.54,0.88-.72.75-2.39,0.68-3.43a14.77,14.77,0,0,1,0-2.82A13.29,13.29,0,0,1,6.3,11.58a4.84,4.84,0,0,0,.52-4.22m0.56,5s0.29,1.4-1,5c-3.26,9.45,3,10.34,4.74,12.56,0,0,.69-1-2.14-4-1-1.12-2-3.6-1.15-7.15,1.17-5.13-.5-6.39-0.5-6.39M1.21,6.2A4.53,4.53,0,0,1,1,4.7C1.2,2.48,3.23,1.58,3.73,1.25A2.7,2.7,0,0,0,4.76,0,3,3,0,0,1,3.55,3.67,6.06,6.06,0,0,0,1.21,6.2M6.32,4.05c0.11,0.23,1,1.45-2.48,4.27s-2.36,4.84-2.36,4.84-3.66-2,.56-5.53S5.39,3.43,5.39,3.43a1.05,1.05,0,0,1,.93.63m4.46,1.08c0.59,0.08,1,1.92,2.35,2.32,1,0.29,2.08.13,2.32,0.74a0.52,0.52,0,0,0,.37.92C16.21,8,16.4,3.88,10.79,5.14ZM12.64,6c0-.13.12,0,0.27-0.12a1.66,1.66,0,0,1,.59-0.48,1,1,0,0,1,.62,0c0.12,0,0,.33,0,0.4s-0.74-.09-0.74.32c0,0.67.91,0,1.38,0,0.23,1.64-2.48,1.19-2.08-.16h0Z\"></path>\r\n                    </svg>\r\n                </div>\r\n                <p className=\"au-c-brand__logotype\">\r\n                    <span className=\"au-c-brand__main\">Vlaanderen</span>\r\n                    <span className=\"au-c-brand__tagline\">verbeelding werkt</span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <div className=\"au-c-main-footer__content\">\r\n            <h3 className=\"au-c-heading au-c-heading--4\">\r\n                Gelinkt-notuleren.lblod.info {t('<Site> is an official website of the Flemish Authorities').replace(\"<Site> \", \"\")}\r\n            </h3>\r\n\r\n            <div className=\"au-c-content au-c-content--small\">\r\n                <p> {t('published by')} <a className=\"au-c-link\" href=\"https://www.vlaanderen.be/organisaties/administratieve-diensten-van-de-vlaamse-overheid/beleidsdomein-kanselarij-en-bestuur/agentschap-binnenlands-bestuur\">Agentschap Binnenlands Bestuur</a></p>\r\n                <ul className=\"au-c-list-horizontal\">\r\n                    <li className=\"au-c-list-horizontal__item\">\r\n                        <a href=\"/ember-appuniversum/\" id=\"ember443\" className=\"ember-view au-c-link au-c-link--secondary \">\r\n                            {t('disclamer')}\r\n                        </a>\r\n                    </li>\r\n                    <li className=\"au-c-list-horizontal__item\">\r\n                        <a href=\"/ember-appuniversum/\" id=\"ember444\" className=\"ember-view au-c-link au-c-link--secondary \">\r\n                            {t('cookie statement')}\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div className=\"language-selection\">\r\n            <div className=\"languages\">\r\n                <button \r\n                    className={getButtonClass('nl')}\r\n                    onClick={() => changeLanguage('nl')}\r\n                >\r\n                    <span>\r\n                        NL\r\n                    </span>\r\n                </button>\r\n                <button \r\n                    className={getButtonClass('en')}\r\n                    onClick={() => changeLanguage('en')}\r\n                >\r\n                    <span>\r\n                        EN\r\n                    </span>\r\n                </button>\r\n                <button \r\n                    className={getButtonClass('fr')}\r\n                    onClick={() => changeLanguage(\"fr\")}\r\n                >\r\n                    <span>\r\n                        FR\r\n                    </span>\r\n                </button>\r\n                <button \r\n                    className={getButtonClass('de')}\r\n                    onClick={() => changeLanguage('de')}\r\n                >\r\n                    <span>\r\n                        DE\r\n                    </span>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        </footer>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport Header from './header';\r\nimport Footer from './footer';\r\n\r\nconst Layout = ({children}) => {\r\n\r\n    //Load all translation files\r\n    const { t } = useTranslation(\r\n        [\"A105\", \"alert\", \"footer\", \"form\", \"header\", \"translation\"]\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <Header/>\r\n                <section className='vl-region'>\r\n                    <div className='vl-layout'>\r\n                        {children}\r\n                    </div>\r\n                </section>\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Layout;","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nexport default function ShowAlert(props) {\r\n\r\n    const { t } = useTranslation([\"alert\"]);\r\n\r\n    let title = \"!\";\r\n    if (props.type == \"error\") {\r\n        title = t('Error') + title;\r\n    } else if (props.type == \"success\") {\r\n        title = t('Success') + title;\r\n    }\r\n\r\n    return (\r\n        <div className={\"vl-alert vl-alert--\" + props.type} role=\"alert\">\r\n            <div className=\"vl-alert__icon\">\r\n                <i className=\"vl-icon vl-vi vl-vi-alert-triangle-filled\" aria-hidden=\"true\"></i>\r\n            </div>\r\n            <div className=\"vl-alert__content\">\r\n                <p className=\"vl-alert__title\">\r\n                    {title}\r\n                </p>\r\n                <div className=\"vl-alert__message\">\r\n                    <p>{props.children}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport { LoginButton } from '@solid/react';\r\nimport ShowAlert from './showAlert';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nexport default function NotConnected(props) {\r\n\r\n  const { t } = useTranslation([\"alert\"]);\r\n\r\n  return (\r\n    <ShowAlert type=\"error\">\r\n      <>\r\n        {t('You are not connected')}! \r\n        <LoginButton popup=\"https://osoc20.github.io/solid-elections-submission/popup.html\">\r\n          {t('Log in here')}!\r\n        </LoginButton>\r\n      </>\r\n    </ShowAlert>\r\n  );\r\n};","import React, {Suspense} from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nexport default function Loading() {\r\n\r\n  const { t } = useTranslation([\"alert\"])\r\n\r\n  return (\r\n    <div className=\"vl-col--1-1\">\r\n        <div className=\"vl-region\">\r\n            <div className=\"vl-u-align-center\">\r\n                <div className=\"vl-loader\" role=\"alert\" aria-busy=\"true\"></div>\r\n                <p>{t('The page is loading')}, {t('please wait a moment')}...</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n","import { fetchDocument, createDocument } from \"tripledoc\";\r\nimport {schema, space} from 'rdf-namespaces';\r\nimport auth from 'solid-auth-client';\r\nimport FileClient from 'solid-file-client';\r\n\r\nconst fileClient = new FileClient(auth);\r\n\r\nconst getPublicFolderURI = async (webID) => {\r\n    const profileDoc = await fetchDocument(webID);\r\n    const profile = profileDoc.getSubject(webID);\r\n\r\n    const storageFolder = await fileClient.readFolder(\r\n        profile.getRef(space.storage)\r\n    )\r\n\r\n    const publicFolders = storageFolder.folders.filter(\r\n        folder => folder.name == 'public'\r\n    )\r\n\r\n    if (publicFolders.length > 0) {\r\n        return publicFolders[0].url\r\n    }\r\n\r\n    const result = await fileClient.createFolder(\r\n        storageFolder.url + \"public/\"\r\n    )\r\n\r\n    // TODO: handle fail of folder creation!\r\n    console.log(result);\r\n\r\n    return result.url;\r\n}\r\n\r\nexport const getAppFolderURI = async (webID) => {\r\n\r\n    const publicFolder = await fileClient.readFolder(\r\n        await getPublicFolderURI(webID)\r\n    );\r\n\r\n    const appFolders = publicFolder.folders.filter(\r\n        folder => folder.name == 'solidelections'\r\n    )\r\n\r\n    if (appFolders.length > 0) {\r\n        return appFolders[0].url;\r\n    }\r\n\r\n    const result = await fileClient.createFolder(\r\n        publicFolder.url + \"solidelections/\"\r\n    );\r\n\r\n    // TODO: handle fail of folder creation!\r\n    console.log(result);\r\n\r\n    return result.url;\r\n}\r\n\r\nexport const getFolderFiles = async (uri) => {\r\n    const folder = await fileClient.readFolder(uri);\r\n\r\n    if (folder) {\r\n        return folder.files;\r\n    }\r\n\r\n    return null;\r\n}","import { createDocument, fetchDocument } from \"tripledoc\";\r\nimport {schema} from 'rdf-namespaces';\r\n\r\nimport {getAppFolderURI, getFolderFiles} from './Solid';\r\n\r\nexport const validateUserInfo = (userInfo) => {\r\n    return (\r\n        validateLblodID(userInfo.lblodID) &&\r\n        validateMunicipality(userInfo.municipality) &&\r\n        validatePostalCode(userInfo.postalCode)\r\n    )\r\n}\r\n\r\nconst validateLblodID = (lblodID) => {\r\n    //TODO: implement\r\n    return true;\r\n}\r\n\r\nconst validateMunicipality = (municipality) => {\r\n    //TODO: implement\r\n    return true;\r\n}\r\n\r\nconst validatePostalCode = (postalCode) => {\r\n    //TODO: implement\r\n    return true;\r\n}\r\n\r\nexport const saveUserInfo = async (userInfo, webID) => {\r\n\r\n    const validInfo = validateUserInfo(userInfo);\r\n\r\n    if (validInfo) {\r\n\r\n        const appFolderURI = await getAppFolderURI(webID);\r\n        const userDocument = createDocument(\r\n            appFolderURI + \"me.ttl\"\r\n        );\r\n\r\n        const subject = userDocument.addSubject({\r\n            identifier: \"me\"\r\n        });\r\n        subject.addRef(schema.sameAs, userInfo.lblodId);\r\n        subject.addString(schema.addressLocality, userInfo.municipality);\r\n        subject.addInteger(schema.postalCode, userInfo.postalCode);\r\n\r\n        try {\r\n            await userDocument.save([subject]);\r\n            return true;\r\n        } catch (e) {\r\n\r\n            //TODO: handle fail of document save!\r\n            console.log(e);\r\n\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport const getUserInfo = async (webID) => {\r\n\r\n    const appFolderURI = await getAppFolderURI(webID);\r\n    const folderFiles = await getFolderFiles(appFolderURI);\r\n\r\n    if (folderFiles) {\r\n        const files = folderFiles.filter(\r\n            folder => folder.name == 'me.ttl'\r\n        );\r\n    \r\n        if (files.length > 0) {\r\n            const userInfoDoc = await fetchDocument(files[0].url);\r\n\r\n            if (userInfoDoc) {\r\n                const subject = userInfoDoc.getSubject(\"#me\");\r\n\r\n                if (subject) {\r\n                    return {\r\n                        subject: subject.asRef(),\r\n                        lblodId: subject.getRef(schema.sameAs),\r\n                        municipality: subject.getString(schema.municipality),\r\n                        postalCode: subject.getInteger(schema.postalCode)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return null\r\n}\r\n\r\n","//Functions used to fetch the API\r\n\r\nconst URL = \"https://api.sep.osoc.be/\";\r\n\r\ninterface DatabaseResponseResult {\r\n    success: boolean;\r\n    message: string;\r\n    result: object;\r\n}\r\n\r\nexport async function fetchGetDb(endpoint: string, uri: URLSearchParams, url: string = URL): Promise<DatabaseResponseResult> {\r\n    let responseObject;\r\n    let response;\r\n    let data;\r\n\r\n    try {\r\n        response = await fetch(url + endpoint + '?' + uri, {\r\n            method: 'GET',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"application/json\"\r\n            },\r\n            mode: 'cors',\r\n            cache: 'default'\r\n        });\r\n\r\n        if (response.status == 200 || response.status == 400) {\r\n            data = await response.json();\r\n            return responseObject = {\r\n                success: true,\r\n                message: \"\",\r\n                result: data\r\n            }\r\n        }\r\n\r\n        return responseObject = {\r\n            success: false,\r\n            message: response.statusText,\r\n            result: {}\r\n        }\r\n    } catch (e) {\r\n        return responseObject = {\r\n            success: false,\r\n            message: \"Can't access to the database! : \" + e.message,\r\n            result: {}\r\n        }\r\n    }\r\n}\r\n\r\nexport async function fetchPostAbb(json: string): Promise<DatabaseResponseResult> {\r\n    let responseObject;\r\n    let response;\r\n    let data;\r\n\r\n    try {\r\n        response = await fetch(\"https://tmp-elections-endpoint.lblod.info/sparql\", {\r\n        \"headers\": {\r\n            \"Accept\": \"application/sparql-results+json,*/*;q=0.9\",\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n        },\r\n        \"referrer\": \"https://tmp-elections-endpoint.lblod.info/sparql\",\r\n        \"method\": \"POST\",\r\n        \"mode\": \"cors\",\r\n        \"body\": json\r\n    });\r\n\r\n        if (response.status == 200 || response.status == 400) {\r\n            data = await response.json();\r\n            return responseObject = {\r\n                success: true,\r\n                message: \"\",\r\n                result: data\r\n            }\r\n        }\r\n\r\n        return responseObject = {\r\n            success: false,\r\n            message: response.statusText,\r\n            result: {}\r\n        }\r\n    } catch (e) {\r\n        return responseObject = {\r\n            success: false,\r\n            message: \"Can't access to the database! : \" + e.message,\r\n            result: {}\r\n        }\r\n    }\r\n}\r\n\r\nexport async function fetchPostDb(endpoint: string, json: string, url: string = URL): Promise<DatabaseResponseResult> {\r\n    let responseObject;\r\n    let response;\r\n    let data;\r\n\r\n    try {\r\n        response = await fetch(url + endpoint, {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Accept\": \"application/json\"\r\n            },\r\n            mode: 'cors',\r\n            cache: 'default',\r\n            body: json\r\n        });\r\n\r\n        if (response.status == 200 || response.status == 400) {\r\n            data = await response.json();\r\n            return responseObject = {\r\n                success: true,\r\n                message: \"\",\r\n                result: data\r\n            }\r\n        }\r\n\r\n        return responseObject = {\r\n            success: false,\r\n            message: response.statusText,\r\n            result: {}\r\n        }\r\n    } catch (e) {\r\n        return responseObject = {\r\n            success: false,\r\n            message: \"Can't access to the database! : \" + e.message,\r\n            result: {}\r\n        }\r\n    }\r\n}","import {fetchPostAbb, fetchGetDb, fetchPostDb} from './RequestDatabase';\r\n\r\nconst fetchUserInfo = async (personURI) => {\r\n    const uriUSerInfo = new URLSearchParams({\r\n        query: `\r\n        PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\r\n        PREFIX persoon: <http://data.vlaanderen.be/ns/persoon#>\r\n        PREFIX foaf: <http://xmlns.com/foaf/0.1/>\r\n        PREFIX ext: <http://mu.semte.ch/vocabularies/ext/>\r\n        PREFIX mandaat: <http://data.vlaanderen.be/ns/mandaat#>\r\n        PREFIX besluit: <http://data.vlaanderen.be/ns/besluit#>\r\n\r\n        SELECT ?list (MAX(?listName) AS ?listName) (MAX(?firstName) AS ?firstName) (MAX(?familyName) AS ?familyName) (MAX(?listNumber) AS ?listNumber) (MAX(?positionInResult) AS ?positionInResult) WHERE {\r\n            BIND( <${personURI}> as ?person )\r\n            ?list a mandaat:Kandidatenlijst;\r\n            mandaat:heeftKandidaat ?person.\r\n            ?person foaf:familyName ?familyName.\r\n            ?person persoon:gebruikteVoornaam ?firstName.\r\n    \r\n            ?list skos:prefLabel ?listName;\r\n                    mandaat:lijstnummer ?listNumber.\r\n    \r\n            ?electionResult mandaat:isResultaatVan ?person.\r\n            ?electionResult mandaat:plaatsRangorde ?positionInResult.\r\n        } GROUP BY ?list LIMIT 10\r\n        `\r\n    });\r\n\r\n    const response = await fetchPostAbb(uriUSerInfo);\r\n\r\n    if (response && response.success) {\r\n        const dataUser = response.result.results.bindings;\r\n        const lists = dataUser.map(list => {\r\n            return {\r\n                \"URI\": list.list.value,\r\n                \"name\": list.listName.value,\r\n                \"number\": list.listNumber.value,\r\n                \"position\": list.positionInResult.value\r\n            }\r\n        });\r\n\r\n        return [true, lists];\r\n    } else {\r\n        return [false, null];\r\n    }\r\n}\r\n\r\nconst fetchUserAmount = async (personURI) => {\r\n    const uriAmount = new URLSearchParams({\r\n        query: `\r\n        PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\r\n        PREFIX persoon: <http://data.vlaanderen.be/ns/persoon#>\r\n        PREFIX foaf: <http://xmlns.com/foaf/0.1/>\r\n        PREFIX ext: <http://mu.semte.ch/vocabularies/ext/>\r\n        PREFIX mandaat: <http://data.vlaanderen.be/ns/mandaat#>\r\n        PREFIX besluit: <http://data.vlaanderen.be/ns/besluit#>\r\n\r\n        SELECT DISTINCT ?unit ?spentList ?spentCandidate2 WHERE {\r\n            ?list a mandaat:Kandidatenlijst;\r\n                    mandaat:heeftKandidaat <${personURI}>.\r\n    \r\n            ?list mandaat:behoortTot/mandaat:steltSamen/mandaat:isTijdspecialisatieVan/besluit:bestuurt ?unit.\r\n            OPTIONAL { ?unit ext:maxSpentForList ?spentList. }\r\n            OPTIONAL { ?unit ext:maxSpentForCandidate2 ?spentCandidate2. }\r\n        } ORDER BY DESC(?spentList) DESC(?spentCandidate2)\r\n        `\r\n    });\r\n\r\n    const response = await fetchPostAbb(uriAmount);\r\n\r\n    if (response && response.success) {\r\n        const dataAmount = response.result.results.bindings;\r\n        var listAmount = null;\r\n        var userAmount = null;\r\n        \r\n        dataAmount.forEach(binding => {\r\n            if (binding.spentList != null) {\r\n                listAmount = binding.spentList.value;\r\n                userAmount = binding.spentCandidate2.value;\r\n            }\r\n        });\r\n\r\n        return [true, {listAmount, userAmount}]\r\n    } else {\r\n        return [false, null]\r\n    }\r\n}\r\n\r\nconst fetchExtraAmount = async (personURI) => {\r\n    const uriExtra = new URLSearchParams({\r\n        query: `\r\n        PREFIX ext: <http://mu.semte.ch/vocabularies/ext/>\r\n        SELECT (COUNT(*) AS ?mandated) WHERE {\r\n            <${personURI}> ext:gemandateerdVoorIndienenUitgavenVerkiezing ?list.\r\n        }\r\n        `\r\n    });\r\n\r\n    const response = await fetchPostAbb(uriExtra);\r\n    if (response && response.success) {\r\n        const dataExtra = response.result.results.bindings;\r\n        const result = dataExtra.length > 0 ? dataExtra[0].mandated.value : null \r\n\r\n        return [true, result];\r\n    } else {\r\n        return [false, null];\r\n    }\r\n}\r\n\r\nconst fetchLBLODInfo = async (personURI) => {\r\n    const [userSuccess, lists] = await fetchUserInfo(personURI);\r\n    const [amountSuccess, dataAmount] = await fetchUserAmount(personURI);\r\n    const [extraSuccess, mandated] = await fetchExtraAmount(personURI);\r\n\r\n    if (userSuccess && amountSuccess && extraSuccess) {\r\n\r\n        const info = {\r\n            lists: lists,\r\n            userAmount: dataAmount.userAmount,\r\n            listAmount: dataAmount.listAmount,\r\n            mandated: mandated\r\n        }\r\n\r\n        return [true, info];\r\n    }\r\n\r\n    return [false, null];\r\n}\r\n\r\nconst validateLblodID = async (lblodID) => {\r\n    const uri = new URLSearchParams({\r\n        personURI: lblodID\r\n    });\r\n\r\n    const response = await fetchGetDb(\"person\", uri);\r\n\r\n    if (response.success && response.result.success) {\r\n        const result = response.result.result[0];\r\n\r\n        return [true, {\r\n            firstName: result.name.value,\r\n            lastName: result.familyName.value\r\n        }];\r\n    } else {\r\n        return [false, null]\r\n    }\r\n}\r\n\r\nconst registerCandidate = async (webID, lblodID) => {\r\n    const response = await fetchPostDb(\"store\", JSON.stringify({\r\n        \"uri\": webID,\r\n        \"lblod_id\": lblodID\r\n    }));\r\n\r\n    if (response.success && response.result.success) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport {\r\n    fetchLBLODInfo,\r\n    validateLblodID,\r\n    registerCandidate\r\n}","import {useEffect} from 'react';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\n\r\nimport { getUserInfo, saveUserInfo } from './userInfo';\r\nimport { fetchLBLODInfo, registerCandidate, validateLblodID } from './LblodInfo';\r\nimport {setUserInfo} from '../actions/userInfo';\r\n\r\nconst useUserInfo = () => {\r\n\r\n    const {loaded, info} = useSelector(state => state.userInfo)\r\n    const webID = useSelector(state => state.webID);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (! loaded) {\r\n            loadData(webID);\r\n        }\r\n    }, [loaded]);\r\n\r\n    const loadData = async (webID) => {\r\n        //fetch data from solid pod\r\n        const solidData = await getUserInfo(webID);\r\n        if (! solidData) {\r\n            //TODO: handle fail\r\n            return\r\n        }\r\n\r\n        //fetch firstname and lastname from lblod database\r\n        //  this will fail when invalid lblodID is saved on solid pod\r\n        const [success, lblodData] = await validateLblodID(solidData.lblodId);\r\n        if (! success) {\r\n            //TODO: handle fail\r\n            return\r\n        }\r\n\r\n        //fetch extra information from lblod database\r\n        const [extraSuccess, extraData] = await fetchLBLODInfo(solidData.lblodId);\r\n        if (! extraSuccess) {\r\n            //TODO: handle fail\r\n            return\r\n        }\r\n\r\n        const userInfo = {\r\n            ...solidData,\r\n            ...lblodData,\r\n            ...extraData\r\n        }\r\n        dispatch(setUserInfo(userInfo));\r\n    }\r\n\r\n    const saveData = async (data) => {\r\n        const [validID, _] = await validateLblodID(data.lblodId);\r\n\r\n        if (! validID) {\r\n            return false;\r\n        }\r\n\r\n        const registerSuccess = await registerCandidate(\r\n            webID, data.lblodId\r\n        );\r\n\r\n        if (! registerSuccess) {\r\n            return false;\r\n        }\r\n\r\n        const saveSuccess = await saveUserInfo(data, webID);\r\n\r\n        if (! saveSuccess) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    return {\r\n        loaded,\r\n        userInfo: info,\r\n        saveData\r\n    }\r\n}\r\n\r\nexport default useUserInfo;","import React, {useEffect} from \"react\";\r\nimport Loading from '../alert/loading';\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport { FaInfoCircle } from 'react-icons/fa';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nimport useUserInfo from '../../utils/useUserInfo';\r\n\r\nexport default function CandidateDataForm(props) {\r\n\r\n    const {refresh} = props;\r\n\r\n    const { t } = useTranslation([\"form\", \"alert\"]);\r\n    const {register, handleSubmit, setValue, errors} = useForm();\r\n    const {loaded, userInfo, saveData} = useUserInfo();\r\n\r\n    useEffect(() => {\r\n        if (loaded && userInfo) {\r\n            console.log(userInfo);\r\n            setValue(\"lblodId\", userInfo.lblodId);\r\n            setValue(\"municipality\", userInfo.municipality);\r\n            setValue(\"postalCode\", userInfo.postalCode);\r\n        }\r\n    }, [loaded]);\r\n\r\n    const lblodIdPresent = () => {\r\n        return (userInfo && userInfo.lblodId);\r\n    }\r\n\r\n    const handleFormSubmit = async function(data) {\r\n        const success = await saveData(data);\r\n\r\n        if (success) {\r\n            alert(t('alert:Your data has been saved') + \"!\");\r\n            refresh();\r\n        } else {\r\n            alert(('Fatal error: something went wrong, please try again!'));\r\n        }\r\n    };\r\n\r\n    if (loaded) {\r\n        return (\r\n            <div id=\"userForm\">\r\n                <h1 className=\"vl-title vl-title--h1 vl-title--has-border\">\r\n                    {t('Your information')}:\r\n                </h1>\r\n                <form onSubmit={handleSubmit(handleFormSubmit)}>\r\n                    <div className=\"vl-grid\">\r\n                        <div className=\"form-group vl-col--12-12\">\r\n                             <label className=\"vl-form__label\" htmlFor=\"lblodid\">\r\n                                LBLOD ID:\r\n                            </label>\r\n                            <input\r\n                            type=\"text\" \r\n                            id=\"lblodId\" \r\n                            placeholder=\"http://data.lblod.info/id/personen/xxx\" \r\n                            className=\"vl-input-field vl-input-field--block\" \r\n                            name=\"lblodId\"\r\n                            ref={register({\r\n                                required: t('This field should be filled in') + \"!\",\r\n                                pattern: {\r\n                                    value: /https?:\\/\\/data.lblod.info\\/id\\/personen\\/.+/,\r\n                                    message: t('This should be a valid LBLOD-ID')\r\n                                }\r\n                            })} \r\n                            readOnly={lblodIdPresent()} />\r\n                            <p className=\"vl-form__error\" id=\"input-field-lblodId-error\">\r\n                                {errors['lblodId'] ? errors['lblodId'].message : null}\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"form-group vl-form-col--6-12\">\r\n                            <label className=\"vl-form__label\" htmlFor=\"firstname\">\r\n                                {t('First name')}:  \r\n                                <FaInfoCircle \r\n                                data-tip= {t('This field will be auto-completed when entering a valid LBLOD ID') + \".\"} />\r\n                                </label>\r\n                            <input \r\n                            type=\"text\" \r\n                            disabled={true} \r\n                            id=\"firstname\" \r\n                            className=\"vl-input-field vl-input-field--block\" \r\n                            data-type=\"auto\" \r\n                            name=\"firstname\"\r\n                            value={userInfo ? userInfo.firstName : ''}>\r\n                            </input>\r\n                            <p className=\"vl-form__error\" id=\"input-field-firstname-error\"></p>\r\n                        </div>\r\n\r\n                        <div className=\"form-group vl-form-col--6-12\">\r\n                            <label className=\"vl-form__label\" htmlFor=\"lastname\">\r\n                                {t('Last name')}:\r\n                                <FaInfoCircle \r\n                                data-tip= {t('This field will be auto-completed when entering a valid LBLOD ID') + \".\"} />\r\n                            </label>\r\n                            <input\r\n                            type=\"text\" \r\n                            disabled={true} \r\n                            id=\"lastname\" \r\n                            className=\"vl-input-field vl-input-field--block\" \r\n                            data-type=\"auto\" \r\n                            name=\"lastname\" \r\n                            value={userInfo ? userInfo.lastName : ''}/>\r\n                            <p className=\"vl-form__error\" id=\"input-field-lastname-error\"></p>\r\n                        </div>\r\n\r\n                        <div className=\"form-group vl-col--12-12--m vl-col--10-12\">\r\n                            <label className=\"vl-form__label\" htmlFor=\"locality\">\r\n                                {t('Municipality')}:\r\n                            </label>\r\n                            <input  \r\n                            type=\"text\" \r\n                            id=\"municipality\" \r\n                            className=\"vl-input-field vl-input-field--block\" \r\n                            name=\"municipality\" \r\n                            ref={register({\r\n                                required: t('This field should be filled in') + \"!\"\r\n                            })}/>\r\n                            <p className=\"vl-form__error\" id=\"input-field-municipality-error\">\r\n                                {errors[\"municipality\"] ? errors[\"municipality\"].message : null}\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"form-group vl-col--12-12--m vl-col--2-12\">\r\n                            <label className=\"vl-form__label\" htmlFor=\"postalCode\">\r\n                                {t('Postal code')}:\r\n                            </label>\r\n                            <input  \r\n                            type=\"number\" \r\n                            min=\"0\" \r\n                            id=\"postalCode\" \r\n                            className=\"vl-input-field vl-input-field--block\" \r\n                            name=\"postalCode\"\r\n                            ref={register({\r\n                                required: t('This field should be filled in') + \"!\",\r\n                                valueAsNumber: true\r\n                            })}/>\r\n                            <p className=\"vl-form__error\" id=\"input-field-postalCode-error\">\r\n                                {errors[\"postalCode\"] ? errors[\"postalCode\"].message : null}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button className=\"vl-button mt-3\">\r\n                        <span className=\"vl-button__label\">{t('Save')}</span>\r\n                    </button>\r\n                </form>\r\n                <ReactTooltip />\r\n            </div>\r\n        );\r\n    } else {\r\n        return (\r\n            <Loading />\r\n        );\r\n    }  \r\n};","import React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport default function PriceInput(inputs) {\r\n\r\n    const {id, label, help} = inputs;\r\n    const {errors, extraErrors} = inputs;\r\n    const {register} = inputs;\r\n\r\n    const { t } = useTranslation([\"A105\", \"alert\"]);\r\n\r\n    return (\r\n        <div className=\"form-group vl-form-col--6-12\">\r\n            {label && \r\n                <label className=\"vl-form__label\">\r\n                    {label}\r\n                    {\" \"}\r\n                    {help}\r\n                </label>\r\n            }\r\n            <div className=\"vl-input-group\">\r\n                <button className=\"vl-button vl-button--icon\">\r\n                    <span style={{\"margin\": \"0px auto\"}}></span>\r\n                </button>\r\n                <input\r\n                    defaultValue={0}\r\n                    type=\"number\"\r\n                    name={id}\r\n                    className=\"vl-input-field vl-input-field--block\"\r\n                    ref={register({\r\n                        min: {\r\n                            value: 0,\r\n                            message: t(\"alert:The filled in amount should be greater than zero\") + \"!\"\r\n                        },\r\n                        valueAsNumber: true\r\n                    })}\r\n                />\r\n            </div>\r\n            <p className=\"vl-form__error\">\r\n                {\r\n                    (errors[id] &&  errors[id].message) || \r\n                    (extraErrors[id] && extraErrors[id])\r\n                }\r\n            </p>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport Popup from \"reactjs-popup\";\r\nimport { FaInfoCircle } from 'react-icons/fa';\r\n\r\nexport class Help extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    getShorterMessage() {\r\n        let message = this.props.message;\r\n        if (Array.isArray(message)) message = message[0].props.children; //We sent an array of \"p\"\r\n\r\n        if (message.length > 100) {\r\n            message = message.substring(0, 100) + \"...\";\r\n        }\r\n\r\n        return message;\r\n    }\r\n\r\n    //Changer klik hier avec un nom raccourcis et ... si trop grand\r\n    //G103 : Auditieve en mondelinge boodschappen avec i-bouton au lieu du label\r\n\r\n    render() {\r\n        return (\r\n            <span className=\"clickable\" style={{\"font-weight\": \"normal\"}}>\r\n                <Popup\r\n                    trigger={<FaInfoCircle data-tip={this.getShorterMessage()} />}\r\n                    modal\r\n                    closeOnDocumentClick\r\n                >\r\n                    <div className=\"modal-tooltip\">\r\n                        <div className=\"header\"> Help </div>\r\n                        <div className=\"content\">\r\n                            {this.props.message}\r\n                        </div>\r\n                    </div>\r\n                </Popup>\r\n            </span>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Help;","import React from 'react'\r\n\r\nimport PriceInput from '../components/form/PriceInput'\r\nimport Help from \"../components/alert/help\"\r\n\r\nexport const formToHTML = (inputs) => {\r\n    const {data} = inputs\r\n    const {translate} = inputs\r\n\r\n    if (! data) throw \"NO DATA PROVIDED!\"\r\n\r\n    return (\r\n        <div>\r\n            <h2 className=\"vl-title vl-title--h2 vl-title--has-border\">\r\n                {translate ? translate(\"A105:\" + data.title) : data.title}\r\n                {\" \"}\r\n                {data.help ? helpToHTML({data: data.help, translate: translate}) : \"\"}\r\n            </h2>\r\n            {\r\n                data.sections ? \r\n                data.sections.map(\r\n                    sectionData => {\r\n                        const sectionInputs = {\r\n                            ...inputs,\r\n                            data: sectionData\r\n                        }\r\n                        return sectionToHTML(sectionInputs)\r\n                    }\r\n                ) :\r\n                \"\"\r\n            } \r\n        </div>\r\n    )\r\n}\r\n\r\nconst sectionToHTML = (inputs) => {\r\n    const {data, isExpense, register, errors, extraErrors} = inputs\r\n    const {translate} = inputs\r\n\r\n    if (! data) throw \"NO DATA PROVIDED!\"\r\n\r\n    return (\r\n        <div>\r\n            <h3 className=\"vl-title vl-title--h3 vl-title--has-border\">\r\n                {translate ? translate(\"A105:\" + data.title) : data.title}\r\n                {\" \"}\r\n                {data.help ? helpToHTML({data: data.help, translate: translate}) : \"\"}\r\n            </h3>\r\n            <div className=\"vl-grid\">\r\n                {\r\n                    data.subsections ?\r\n                    data.subsections.map(\r\n                        subData => {\r\n                            const subInputs = {\r\n                                ...inputs,\r\n                                data: subData\r\n                            }\r\n                            return subsectionToHTML(subInputs)\r\n                        }\r\n                    ) :\r\n                    <PriceInput\r\n                        id={getKey(data.key, isExpense)}\r\n                        register={register}\r\n                        errors={errors}\r\n                        extraErrors={extraErrors}\r\n                    />\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst subsectionToHTML = (inputs) => {\r\n    const {data, isExpense, register, errors, extraErrors} = inputs\r\n    const {translate} = inputs\r\n\r\n    if (! data) throw \"NO DATA PROVIDED\"\r\n\r\n    return (\r\n        <PriceInput\r\n            label={translate ? translate(\"A105:\" + data.title) : data.title}\r\n            id={getKey(data.key, isExpense)}\r\n            register={register}\r\n            errors={errors}\r\n            extraErrors={extraErrors}\r\n            help={data.help ? helpToHTML({data: data.help, translate: translate}) : null}\r\n        />\r\n    )\r\n}\r\n\r\nconst helpToHTML = (inputs) => {\r\n    const {data} = inputs\r\n    if (! data) return null\r\n\r\n    const {paragraphs} = data\r\n    if (! paragraphs) return null\r\n\r\n    return (\r\n        <Help message={\r\n            paragraphs.map(\r\n                paragraph => paragraphToHTML({...inputs, data: paragraph})\r\n            )\r\n        }/>\r\n    )\r\n}\r\n\r\nconst paragraphToHTML = (inputs) => {\r\n    const {data, translate} = inputs\r\n    if (! data) return null\r\n\r\n    const {sentences, listElements} = data\r\n\r\n    if (sentences) {\r\n        const translateSentence = (sentence) => {\r\n            return translate ? translate(\"alert:\" + sentence) : sentence\r\n        }\r\n        return (\r\n            <p className=\"vl-u-spacer\">\r\n                {\r\n                    sentences.reduce(\r\n                        (acc, curr) => acc + \" \" + translateSentence(curr.sentence) + curr.connector, \"\"\r\n                    )\r\n                }\r\n            </p>\r\n        )\r\n    }\r\n\r\n    if (listElements) {\r\n        const translateElement = (element) => {\r\n            return translate ? translate(\"alert:\" + element) : element\r\n        }\r\n        return (\r\n            <ul className=\"vl-link-list\">\r\n                {listElements.map(\r\n                    listElement => {\r\n                        return (\r\n                            <li class=\"vl-link-list__item\">\r\n                                {\"- \"}\r\n                                {translateElement(listElement.content)}\r\n                            </li>\r\n                        )\r\n                    }\r\n                )}\r\n            </ul>\r\n        )\r\n    }\r\n\r\n    return null\r\n}\r\n\r\nexport const getKey = (key, isExpense) => {\r\n    if (isExpense) {\r\n        return \"E\".concat(key.replaceAll(\".\", \"-\"));\r\n    } else{\r\n        return \"F\".concat(key.replaceAll(\".\", \"-\"))\r\n    }\r\n}","import { createDocument, fetchDocument } from \"tripledoc\"\r\nimport {schema, rdf} from 'rdf-namespaces'\r\n\r\nimport { getAppFolderURI, getFolderFiles } from \"./Solid\"\r\n\r\nconst actionToJSON = (action) => {\r\n    return {\r\n        identifier: action.getString(schema.identifier),\r\n        price: action.getDecimal(schema.price),\r\n        priceCurrency: action.getString(schema.priceCurrency),\r\n        description: action.getString(schema.description)\r\n    }\r\n}\r\n\r\nconst buyActionsToJSON = (buyActions) => {\r\n    return buyActions.map(action => {\r\n        return {\r\n            ...actionToJSON(action),\r\n            isExpense: true\r\n        }\r\n    })\r\n}\r\n\r\nconst donateActionsToJSON = (donateActions) => {\r\n    return donateActions.map(action => {\r\n        return {\r\n            ...actionToJSON(action),\r\n            isExpense: false\r\n        }\r\n    })\r\n}\r\n\r\nexport const getExpensesInfo = async (webID) => {\r\n\r\n    const appFolderURI = await getAppFolderURI(webID);\r\n    const folderFiles = await getFolderFiles(appFolderURI);\r\n\r\n    if (! folderFiles) return null;\r\n\r\n    const files = folderFiles.filter(\r\n        folder => folder.name == 'a105.ttl'\r\n    )\r\n\r\n    if (! files.length > 0) return null;\r\n\r\n    const expensesInfoDoc = await fetchDocument(files[0].url);\r\n\r\n    if (! expensesInfoDoc) return null;\r\n\r\n    const expenses = buyActionsToJSON(\r\n        expensesInfoDoc.getAllSubjectsOfType(schema.BuyAction)\r\n    )\r\n    const donations = donateActionsToJSON(\r\n        expensesInfoDoc.getAllSubjectsOfType(schema.DonateAction)\r\n    )\r\n\r\n    return expenses.concat(donations)\r\n}\r\n\r\nconst addAction = (doc, agentURI, data) => {\r\n    const action = doc.addSubject();\r\n\r\n    action.addRef(schema.recipient, agentURI);\r\n    action.addString(schema.identifier, data.identifier);\r\n    action.addString(schema.description, data.description);\r\n    action.addDecimal(schema.price, data.price);\r\n    action.addString(schema.priceCurrency, data.priceCurrency);\r\n\r\n    if (data.isExpense) {\r\n        action.addRef(rdf.type, schema.BuyAction);\r\n    } else {\r\n        action.addRef(rdf.type, schema.DonateAction);\r\n    }\r\n\r\n    return action\r\n}\r\n\r\n//This function expects valid expenses and funds data.\r\nexport const saveA105Data = async (webID, agentURI, data) => {\r\n    const appFolderURI = await getAppFolderURI(webID);\r\n    console.log(appFolderURI);\r\n    const expensesDocument = createDocument(\r\n        appFolderURI + \"a105.ttl\"\r\n    );\r\n\r\n    console.log(data);\r\n\r\n    const actions = data.map(\r\n        actionData => addAction(expensesDocument, agentURI, actionData)\r\n    );\r\n\r\n    console.log(actions);\r\n\r\n    try {\r\n        await expensesDocument.save(actions);\r\n        return true;\r\n    } catch (e) {\r\n        console.log(e);\r\n        return false;\r\n    }\r\n}","import {useEffect} from 'react'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\n\r\nimport { getExpensesInfo, saveA105Data } from './expensesInfo'\r\nimport { setExpensesInfo } from '../actions/expensesInfo'\r\nimport formInfo from '../data/a105.json'\r\n\r\nconst useExpensesInfo = () => {\r\n\r\n    const {loaded, info} = useSelector(state => state.expensesInfo);\r\n    const userInfoObject = useSelector(state => state.userInfo);\r\n    const webID = useSelector(state => state.webID);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (! loaded) {\r\n            loadData(webID);\r\n        }\r\n    }, [loaded]);\r\n\r\n    const loadData = async (webID) => {\r\n        const data = await getExpensesInfo(webID);\r\n        \r\n        if (! data) {\r\n            // TODO: handle load fail\r\n            return \r\n        }\r\n\r\n        dispatch(setExpensesInfo(data));\r\n    }\r\n\r\n    const saveData = async (data) => {\r\n        console.log('saving data');\r\n\r\n        const userLoaded = userInfoObject.loaded;\r\n        const userInfo = userInfoObject.info;\r\n\r\n        if (!(userLoaded && userInfo && userInfo.subject)) {\r\n            return false;\r\n        }\r\n\r\n        const actions = []\r\n        for (const rawKey in data) {\r\n            const isExpense = rawKey[0] == \"E\";\r\n            const key = rawKey.slice(1).replaceAll(\"-\", \".\")\r\n            actions.push({\r\n                isExpense: isExpense,\r\n                identifier: key,\r\n                price: data[rawKey],\r\n                description: getInfo(key, isExpense ? formInfo.expenses : formInfo.funds),\r\n                priceCurrency: 'EUR'\r\n            });\r\n        }\r\n\r\n        const saveSuccess = await saveA105Data(webID, userInfo.subject, actions);\r\n\r\n        return saveSuccess;\r\n    }\r\n\r\n    const getInfo = (key, info) => {\r\n        if (info.key && key == info.key) {\r\n            return info.title;\r\n        }\r\n\r\n        if (info.sections) {\r\n            const mappedSections = info.sections.map(\r\n                section => getInfo(key, section)\r\n            )\r\n            const filtered = mappedSections.filter(\r\n                sectionResponse => sectionResponse\r\n            )\r\n            if (filtered.length > 0) {\r\n                return filtered[0]\r\n            }\r\n            return null\r\n        }\r\n\r\n        if (info.subsections) {\r\n            const mappedSections = info.subsections.map(\r\n                subsection => getInfo(key, subsection)\r\n            )\r\n            const filtered = mappedSections.filter(\r\n                sectionResponse => sectionResponse\r\n            )\r\n\r\n            if (filtered.length > 0) {\r\n                return info.title + \" - \" + filtered[0]\r\n            }\r\n            return null\r\n        }\r\n\r\n        return null\r\n    }\r\n\r\n    return {\r\n        expensesLoaded: loaded,\r\n        expensesInfo: info,\r\n        saveData\r\n    }\r\n}\r\n\r\nexport default useExpensesInfo;","import React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport useUserInfo from '../../utils/useUserInfo'\r\n\r\nexport default function A105Head() {\r\n\r\n    const {userInfo} = useUserInfo();\r\n    const { t } = useTranslation([\"A105\", \"alert\"]);\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h2 className=\"vl-title vl-title--h2 vl-title--has-border\">\r\n                {t('A105:General')}\r\n            </h2>\r\n            <div className=\"vl-grid\">\r\n                <div className=\"form-group vl-form-col--8-12\">\r\n                    <label className=\"vl-form__label\" >\r\n                        {t('A105:List name')}\r\n                    </label>\r\n                    <input\r\n                        className=\"vl-input-field vl-input-field--block\"\r\n                        disabled={true}\r\n                        value={userInfo ? userInfo.lists[0].name : \"\"}\r\n                    />\r\n                </div>\r\n                <div className=\"form-group vl-form-col--4-12\">\r\n                    <label className=\"vl-form__label\" >\r\n                        {t('A105:List number')}\r\n                    </label>\r\n                    <input\r\n                        className=\"vl-input-field vl-input-field--block\"\r\n                        disabled={true}\r\n                        value={userInfo ? userInfo.lists[0].number : \"\"}\r\n                    />\r\n                </div>\r\n                <div className=\"form-group vl-form-col--8-12\">\r\n                    <label className=\"vl-form__label\" >\r\n                        {t('A105:Municipal administration')}\r\n                    </label>\r\n                    <input\r\n                        className=\"vl-input-field vl-input-field--block\"\r\n                        disabled={true}\r\n                        value={userInfo ? userInfo.municipality : \"\"}\r\n                    />\r\n                </div>\r\n                <div className=\"form-group vl-form-col--4-12\">\r\n                    <label className=\"vl-form__label\" >\r\n                        {t('A105:Place on the list')}\r\n                    </label>\r\n                    <input\r\n                        className=\"vl-input-field vl-input-field--block\"\r\n                        disabled={true}\r\n                        value={userInfo ? userInfo.lists[0].position : \"\"}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport ShowAlert from './showAlert';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nexport default function ProfileDoesntExist() {\r\n\r\n  const { t } = useTranslation([\"alert\"]);\r\n\r\n  return (\r\n    <ShowAlert type=\"error\">\r\n      <> {t('Your profile is not complete yet')}!</>\r\n    </ShowAlert>\r\n  );\r\n}\r\n","import React,  {useState, useEffect} from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport formInfo from '../../data/a105.json'\r\nimport deadlines from '../../data/deadline.json'\r\n\r\nimport {formToHTML, getKey} from '../../utils/createA105Form'\r\nimport { requestExpensesLoad } from '../../actions/expensesInfo'\r\nimport useUserInfo from '../../utils/useUserInfo'\r\nimport useExpensesInfo from \"../../utils/useExpensesInfo\"\r\n\r\nimport A105Head from './A105Head'\r\nimport ProfileDoesntExist from '../alert/profileDoesntExist'\r\nimport Loading from '../alert/loading'\r\n\r\nexport default function A105({enableG104}) {\r\n\r\n    const {register, handleSubmit, \r\n            errors, watch, setValue} = useForm();\r\n    const [completeForm, setCompleteForm] = useState(false);\r\n    const { t } = useTranslation([\"A105\", \"alert\"]);\r\n    const dispatch = useDispatch();\r\n\r\n    const {loaded, userInfo} = useUserInfo();\r\n    const {saveData, expensesLoaded, expensesInfo} = useExpensesInfo();\r\n\r\n    const values = watch();\r\n\r\n    useEffect(() => {\r\n        if (expensesLoaded && expensesInfo) {\r\n            console.log(\"LOADED!\");\r\n            console.log(expensesInfo);\r\n            expensesInfo.map(\r\n                info => {\r\n                    console.log(info.isExpense);\r\n                    console.log(info.identifier);\r\n                    console.log(getKey(info.identifier, info.isExpense));\r\n                    console.log(info.price)\r\n                    setValue(\r\n                        getKey(info.identifier, info.isExpense), \r\n                        info.price\r\n                    )\r\n                }\r\n            )\r\n        }\r\n    }, [expensesLoaded, loaded])\r\n\r\n    const getTotals = () => {\r\n        var expensesTotal = 0;\r\n        var fundsTotal = 0;\r\n        for (const key in values) {\r\n            const amount = values[key];\r\n            if (amount) {\r\n                if (key.substr(0, 1) == \"E\") {\r\n                    expensesTotal += amount;\r\n                } else {\r\n                    fundsTotal += amount;\r\n                }\r\n            }\r\n        }\r\n\r\n        return [expensesTotal.toFixed(2), fundsTotal.toFixed(2)]\r\n    }\r\n\r\n    const getExtraErrors = () => {\r\n        const extraErrors = {}\r\n        const amount1 = values[getKey(\"2.1.1\", false)]\r\n        var extraInfo = false\r\n        if (amount1 && amount1 >= 125) {\r\n            extraInfo = true\r\n            extraErrors[getKey(\"2.1.1\", false)] = t('alert:Attention') + \"! \" + t('alert:You are entering a sponsorship that is 125 euros or higher') + \". \" \r\n            + t('alert:Therefore, also complete the form for identification of donors and sponsors') + \".\";\r\n        } else if (amount1 && amount1 > 0) {\r\n            extraErrors[getKey(\"2.1.1\", false)] = t('alert:The amount you entered is less than 125 euros, please enter it in the inputfield on the right') + \".\"\r\n        }\r\n\r\n        const amount2 = values[getKey(\"3.1.1\", false)]\r\n        if (amount2 && amount2 >= 125) {\r\n            extraInfo = true\r\n            extraErrors[getKey(\"3.1.1\", false)] = t('alert:Attention') + \"! \" + t('alert:You are entering a sponsorship that is 125 euros or higher') + \". \" \r\n            + t('alert:Therefore, also complete the form for identification of donors and sponsors') + \".\";\r\n        } else if (amount2 && amount2 > 0) {\r\n            extraErrors[getKey(\"3.1.1\", false)] = t('alert:The amount you entered is less than 125 euros, please enter it in the inputfield on the right') + \".\"\r\n        }\r\n\r\n        extraInfo ? enableG104(true) : enableG104(false)\r\n\r\n        return extraErrors\r\n    }\r\n\r\n    const toggleRadio = (toggleValue) => {\r\n        return (\r\n            () => setCompleteForm(toggleValue)\r\n        )\r\n    }\r\n\r\n    const onSubmit = (data) => {\r\n        console.log('data submit')\r\n        console.log(data);\r\n        saveData(data).then(success => {\r\n            console.log(\"data success: \");\r\n            console.log(success);\r\n            if (success) {\r\n                alert(t('alert:Your data has been saved') + \"!\");\r\n                dispatch(requestExpensesLoad());\r\n            } else {\r\n                alert(('Error: something went wrong, please try again!'));\r\n            }\r\n        })\r\n    }\r\n\r\n    const [expensesTotal, fundsTotal] = getTotals();\r\n    const extraErrors = getExtraErrors();\r\n    const expensesForm = formToHTML({\r\n        data: formInfo.expenses,\r\n        isExpense: true,\r\n        register,\r\n        errors,\r\n        extraErrors,\r\n        translate: t\r\n    });\r\n    const fundsForm = formToHTML({\r\n        data: formInfo.funds,\r\n        isExpense: false,\r\n        register,\r\n        errors,\r\n        extraErrors,\r\n        translate: t\r\n    })\r\n\r\n    if (! loaded || ! expensesLoaded) {\r\n        return (\r\n            <Loading />\r\n        )\r\n    }\r\n\r\n    if (! userInfo) {\r\n        return (\r\n            <ProfileDoesntExist />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <A105Head/>\r\n            <div className=\"vl-grid\">\r\n                <p>\r\n                    {t('A105:As a candidate for the elections, did you make any election expenses')}?\r\n                </p>\r\n                <div className=\"form-group vl-form-col--12-12\">\r\n                    <label className=\"vl-radio\">\r\n                        <input\r\n                            className=\"vl-radio__toggle\"\r\n                            type=\"radio\"\r\n                            checked={completeForm}\r\n                            onClick={toggleRadio(true)}\r\n                        />\r\n                        <div className=\"vl-radio__label\">\r\n                            {t('A105:Yes')}\r\n                        </div>\r\n                    </label>\r\n                    <label className=\"vl-radio\">\r\n                        <input\r\n                            className=\"vl-radio__toggle\"\r\n                            type=\"radio\"\r\n                            checked={! completeForm}\r\n                            onClick={toggleRadio(false)}\r\n                        />\r\n                        <div className=\"vl-radio__label\">\r\n                            {t('A105:No')}\r\n                        </div>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div className={completeForm ? \"\": \"vl-u-hidden\"}>\r\n                {expensesForm}\r\n                <p className=\"total-text mb-5\">\r\n                    {\"Total amount: \" + expensesTotal + \"\"}\r\n                </p>\r\n                {fundsForm}\r\n                <p className=\"total-text mb-5\">\r\n                    {\"Total amount: \" + fundsTotal + \"\"}\r\n            </p>\r\n            </div>\r\n            <p className=\"text-bold\">\r\n                {t('A105:Submit this form at the latest on ')} {deadlines.forms['a105'].deadline}.\r\n            </p>\r\n            <button \r\n                className=\"vl-button mt-5\"\r\n                onClick={handleSubmit(onSubmit)} \r\n            >\r\n                <span className=\"vl-button__label\">\r\n                    {t('A105:Sign and send')}\r\n                </span>\r\n            </button>\r\n        </div>\r\n    )\r\n}","import React, {useState} from \"react\";\r\nimport { useTranslation } from 'react-i18next';\r\nimport useUserInfo from \"../../utils/useUserInfo\";\r\n\r\nimport A105 from \"./A105\";\r\n\r\nexport default function FormLayout(props) {\r\n\r\n    const { t } = useTranslation([\"form\"]);\r\n    const {loaded, userInfo} = useUserInfo();\r\n    const [g104, enableG104] = useState(false);\r\n\r\n    return (\r\n        <div>\r\n            <ul id=\"formSelection\" className=\"nav nav-tabs nav-fill\" role=\"tablist\">\r\n                <li className=\"nav-item\">\r\n                    <a \r\n                    id=\"tab-a105\" \r\n                    className=\"nav-link active\" \r\n                    data-toggle=\"tab\" \r\n                    href=\"#a105-form\" \r\n                    role=\"tab\" \r\n                    aria-controls=\"a105-form\" \r\n                    aria-selected=\"false\">\r\n                        {t('form:Expenditure candidate')}\r\n                    </a>\r\n                </li>\r\n                <li className={\"nav-item \" + (userInfo != null && userInfo.lists[0].position == 1 ? \"\" : \"disabled\")}>\r\n                    <a \r\n                    id=\"tab-g103\" \r\n                    className={\"nav-link \" + (userInfo != null && userInfo.lists[0].position == 1 ? \"\" : \"disabled\")} \r\n                    data-toggle=\"tab\" \r\n                    href=\"#g103-form\" \r\n                    role=\"tab\" \r\n                    aria-controls=\"g103-form\" \r\n                    aria-selected=\"true\">\r\n                        {t('form:Expenditure list')}\r\n                    </a>\r\n                </li>\r\n                <li className=\"nav-item disabled\">\r\n                    <a \r\n                    id=\"tab-g104\" \r\n                    className={\"nav-link\" + (g104 ? \"\" : \" disabled\")}\r\n                    data-toggle=\"tab\" \r\n                    href=\"#g104-form\" \r\n                    role=\"tab\" \r\n                    aria-controls=\"g104-form\" \r\n                    aria-selected=\"false\">\r\n                        {t('form:Donors/sponsors candidate')}\r\n                    </a>\r\n                </li>\r\n                <li className=\"nav-item disabled\">\r\n                    <a \r\n                    id=\"tab-a106\" \r\n                    className=\"nav-link disabled\" \r\n                    data-toggle=\"tab\" \r\n                    href=\"#a106-form\" \r\n                    role=\"tab\" \r\n                    aria-controls=\"a106-form\" \r\n                    aria-selected=\"false\">\r\n                        {t('form:Donors/sponsors list')}\r\n                    </a>\r\n                </li>\r\n                <li className={\"nav-item \" + (userInfo != null && userInfo.mandated > 0 ? \"\" : \"disabled\")}>\r\n                    <a \r\n                    id=\"tab-extra\" \r\n                    className={\"nav-link \" + (userInfo != null && userInfo.mandated > 0 ? \"\" : \"disabled\")} \r\n                    data-toggle=\"tab\" \r\n                    href=\"#extra-form\" \r\n                    role=\"tab\" \r\n                    aria-controls=\"extra-form\" \r\n                    aria-selected=\"false\">\r\n                        {t('form:Expenditure political party')}\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n\r\n            <div className=\"tab-content\" id=\"tabContent\">\r\n                <div className=\"tab-pane fade show active\" id=\"a105-form\" role=\"tabpanel\" aria-labelledby=\"a105-form\">\r\n                    <A105 enableG104={enableG104}/>\r\n                </div>\r\n                <div className=\"tab-pane fade\" id=\"g103-form\" role=\"tabpanel\" aria-labelledby=\"g103-form\">\r\n                    <h1>U ziet dit formulier omdat u lijsttrekker bent.</h1>\r\n                    <p>Het maximumbedrag dat u als lijst mag uitgeven bedraagt {userInfo != null ? userInfo.listAmount : \"\"}</p>\r\n                </div>\r\n                <div className=\"tab-pane fade\" id=\"g104-form\" role=\"tabpanel\" aria-labelledby=\"g104-form\">\r\n                    <h1>Form G104</h1>\r\n                </div>\r\n                <div className=\"tab-pane fade\" id=\"a106-form\" role=\"tabpanel\" aria-labelledby=\"a106-form\">\r\n                    <h1>Form A106</h1>\r\n                </div>\r\n                <div className=\"tab-pane fade\" id=\"extra-form\" role=\"tabpanel\" aria-labelledby=\"extra-form\">\r\n                    <p>U ziet dit formulier omdat u gemandateerde bent vanuit uw partij.</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport ShowAlert from './showAlert';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nexport default function FormSent() {\r\n\r\n    const { t } = useTranslation([\"alert\"]);\r\n\r\n    return (\r\n        <ShowAlert type=\"success\">\r\n            {t('Your form has been sent')}!\r\n        </ShowAlert>\r\n    );\r\n}","import React, {Suspense, useEffect} from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { LoggedIn, LoggedOut, useWebId } from '@solid/react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport {setWebID} from './actions/webID';\r\nimport {requestUserLoad} from './actions/userInfo';\r\nimport { requestExpensesLoad } from './actions/expensesInfo';\r\nimport './App.sass';\r\n\r\nimport Layout from './components/Layout';\r\nimport NotConnected from './components/alert/notConnected'\r\nimport CandidateDataForm from './components/form/candidateDataForm';\r\nimport FormLayout from './components/form/FormLayout';\r\nimport FormSent from './components/alert/formSent';\r\n\r\nconst App = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const webID = useWebId();\r\n\r\n    //Load user info when webID changes.\r\n    useEffect(() => {\r\n        if (webID) {\r\n            dispatch(setWebID(webID));\r\n            dispatch(requestUserLoad());\r\n            dispatch(requestExpensesLoad())\r\n        }\r\n    }, [webID]);\r\n\r\n    const refresh = () => {\r\n        dispatch(requestUserLoad());\r\n    }\r\n\r\n    return (\r\n        <Suspense fallback='loading'>\r\n            <Router>\r\n                <Layout>\r\n                    <LoggedIn>\r\n                        <Switch>\r\n                            <Route path=\"/profile\">\r\n                                <CandidateDataForm\r\n                                    refresh={refresh}\r\n                                />\r\n                            </Route>\r\n                            <Route path=\"/new-declaration\">\r\n                                <FormLayout />\r\n                            </Route>\r\n                            <Route path=\"/formSent\">\r\n                                <FormSent />\r\n                            </Route>\r\n                        </Switch>\r\n                    </LoggedIn>\r\n                    <LoggedOut>\r\n                        <NotConnected/>\r\n                    </LoggedOut>\r\n                </Layout>\r\n            </Router>\r\n        </Suspense>\r\n    );\r\n}\r\n\r\nexport default App;","export const setWebID = (ID) => {\r\n    return {\r\n        type: 'SET_WEB_ID',\r\n        payload: ID\r\n    }\r\n}","const webIDReducer = (state = null, action) => {\r\n    switch(action.type) {\r\n        case 'SET_WEB_ID':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default webIDReducer;","const defaultState = {\r\n    loaded: true,\r\n    info: null\r\n}\r\n\r\nconst userInfoReducer = (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case 'SET_INFO':\r\n            if (action.key == \"user\") {\r\n                return {\r\n                    loaded: true,\r\n                    info: action.payload\r\n                };\r\n            } else return state;\r\n        case 'CHANGE_LOADED':\r\n            if (action.key == \"user\") {\r\n                return {\r\n                    info: null,\r\n                    loaded: false\r\n                }\r\n            } else return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default userInfoReducer;","const defaultState = ({\r\n    loaded: true,\r\n    info: null\r\n})\r\n\r\nconst expensesInfoReducer = (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case 'SET_INFO':\r\n            if (action.key == \"expenses\") {\r\n                return {\r\n                    loaded: true,\r\n                    info: action.payload\r\n                }\r\n            } else return state;\r\n        case 'CHANGE_LOADED':\r\n            if (action.key == \"expenses\") {\r\n                return {\r\n                    loaded: false,\r\n                    info: null\r\n                }\r\n            } else return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default expensesInfoReducer;","import {combineReducers} from 'redux';\r\n\r\nimport webIDReducer from './webID';\r\nimport userInfoReducer from './userInfo';\r\nimport expensesInfoReducer from './expensesInfo';\r\n\r\nconst combinedReducer = combineReducers({\r\n    webID: webIDReducer,\r\n    userInfo: userInfoReducer,\r\n    expensesInfo: expensesInfoReducer\r\n});\r\n\r\nexport default combinedReducer;\r\n\r\n","import { createStore } from 'redux';\r\nimport combinedReducer from './reducers';\r\n\r\nconst store = createStore(combinedReducer);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux'\r\nimport './i18n';\r\n\r\nimport App from './App';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}